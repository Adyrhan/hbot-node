{"filter":false,"title":"app.js","tooltip":"/hbot-node/server/app.js","undoManager":{"mark":74,"position":74,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":37,"column":41},"end":{"row":38,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":37,"column":41},"end":{"row":38,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":0},"end":{"row":38,"column":25}},"text":"var sys = require(\"sys\");"},{"action":"insertText","range":{"start":{"row":38,"column":25},"end":{"row":39,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":38,"column":0},"end":{"row":39,"column":0}},"nl":"\n","lines":["var sys = require(\"sys\");"]},{"action":"removeText","range":{"start":{"row":37,"column":41},"end":{"row":38,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":37,"column":41},"end":{"row":38,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":19},"end":{"row":40,"column":20}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":37,"column":34},"end":{"row":37,"column":38}},"text":"ient"},{"action":"removeText","range":{"start":{"row":37,"column":32},"end":{"row":37,"column":34}},"text":"cl"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":37,"column":31},"end":{"row":37,"column":32}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":12},"end":{"row":47,"column":32}},"text":"new Client(options);"},{"action":"insertText","range":{"start":{"row":47,"column":12},"end":{"row":47,"column":37}},"text":"new xmpp.Client(options);"},{"action":"insertText","range":{"start":{"row":47,"column":37},"end":{"row":48,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":37,"column":4},"end":{"row":37,"column":11}},"text":"Client "},{"action":"insertText","range":{"start":{"row":37,"column":4},"end":{"row":37,"column":8}},"text":"xmpp"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":37,"column":6},"end":{"row":37,"column":8}},"text":"pp"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":37,"column":4},"end":{"row":37,"column":6}},"text":"xm"},{"action":"insertText","range":{"start":{"row":37,"column":4},"end":{"row":37,"column":11}},"text":"Client "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":37,"column":31},"end":{"row":37,"column":32}},"text":"-"},{"action":"removeText","range":{"start":{"row":47,"column":12},"end":{"row":47,"column":37}},"text":"new xmpp.Client(options);"},{"action":"removeText","range":{"start":{"row":47,"column":12},"end":{"row":48,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":47,"column":12},"end":{"row":47,"column":32}},"text":"new Client(options);"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":37,"column":32},"end":{"row":37,"column":34}},"text":"cl"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":37,"column":34},"end":{"row":37,"column":37}},"text":"ien"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":37,"column":37},"end":{"row":37,"column":38}},"text":"t"},{"action":"insertText","range":{"start":{"row":40,"column":19},"end":{"row":40,"column":20}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":19},"end":{"row":40,"column":20}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":10},"end":{"row":40,"column":19}},"text":"hbot.node"},{"action":"insertText","range":{"start":{"row":40,"column":10},"end":{"row":40,"column":13}},"text":"bot"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":14},"end":{"row":40,"column":23}},"text":"gmail.com"},{"action":"insertText","range":{"start":{"row":40,"column":14},"end":{"row":40,"column":17}},"text":"h-s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":17},"end":{"row":40,"column":20}},"text":"ec."},{"action":"insertText","range":{"start":{"row":40,"column":20},"end":{"row":40,"column":23}},"text":"org"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":41,"column":15},"end":{"row":41,"column":23}},"text":"hbot1234"},{"action":"insertText","range":{"start":{"row":41,"column":15},"end":{"row":41,"column":18}},"text":"qhb"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":41,"column":18},"end":{"row":41,"column":22}},"text":"ot12"},{"action":"insertText","range":{"start":{"row":41,"column":22},"end":{"row":41,"column":23}},"text":"3"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":41,"column":23},"end":{"row":41,"column":24}},"text":"4"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":41,"column":22},"end":{"row":41,"column":24}},"text":"34"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":41,"column":19},"end":{"row":41,"column":22}},"text":"t12"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":41,"column":16},"end":{"row":41,"column":19}},"text":"hbo"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":41,"column":15},"end":{"row":41,"column":16}},"text":"q"},{"action":"insertText","range":{"start":{"row":41,"column":15},"end":{"row":41,"column":23}},"text":"hbot1234"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":10},"end":{"row":40,"column":15}},"text":"bot@h"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":10},"end":{"row":40,"column":14}},"text":"-sec"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":10},"end":{"row":40,"column":14}},"text":".org"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":10},"end":{"row":40,"column":11}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":11},"end":{"row":40,"column":15}},"text":"bot."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":15},"end":{"row":40,"column":18}},"text":"nod"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":18},"end":{"row":40,"column":20}},"text":"e@"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":20},"end":{"row":40,"column":26}},"text":"gmail."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":26},"end":{"row":40,"column":29}},"text":"com"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":56,"column":1},"end":{"row":57,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":57,"column":0},"end":{"row":58,"column":0}},"lines":[" "]},{"action":"insertText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":1}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":58,"column":0},"end":{"row":58,"column":1}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":57,"column":0},"end":{"row":57,"column":38}},"text":"client.on('stanza', function(stanza) {"},{"action":"insertText","range":{"start":{"row":57,"column":38},"end":{"row":58,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":58,"column":0},"end":{"row":59,"column":0}},"lines":["    console.log('Incoming stanza: ', stanza.toString())"]},{"action":"insertText","range":{"start":{"row":59,"column":0},"end":{"row":59,"column":2}},"text":"})"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":57,"column":0},"end":{"row":57,"column":6}},"text":"client"},{"action":"insertText","range":{"start":{"row":57,"column":0},"end":{"row":57,"column":2}},"text":"ta"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":57,"column":2},"end":{"row":57,"column":4}},"text":"lk"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":57,"column":0},"end":{"row":57,"column":1}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":56,"column":1},"end":{"row":56,"column":6}},"text":"nano "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":56,"column":2},"end":{"row":56,"column":6}},"text":"ano "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":56,"column":0},"end":{"row":56,"column":2}},"text":" n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":50,"column":29},"end":{"row":51,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":51,"column":0},"end":{"row":54,"column":0}},"lines":["    client.send(new ltx.Element('presence', { })","      .c('show').t('chat').up()","      .c('status').t('Happily echoing your <message/> stanzas')"]},{"action":"insertText","range":{"start":{"row":54,"column":0},"end":{"row":54,"column":5}},"text":"    )"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":51,"column":4},"end":{"row":51,"column":10}},"text":"client"},{"action":"insertText","range":{"start":{"row":51,"column":4},"end":{"row":51,"column":8}},"text":"gtal"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":51,"column":8},"end":{"row":51,"column":9}},"text":"k"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":37,"column":41},"end":{"row":38,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":38,"column":0},"end":{"row":38,"column":2}},"text":"va"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":2},"end":{"row":38,"column":6}},"text":"r lt"},{"action":"insertText","range":{"start":{"row":38,"column":6},"end":{"row":38,"column":7}},"text":"x"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":7},"end":{"row":38,"column":9}},"text":"=r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":9},"end":{"row":38,"column":15}},"text":"equier"},{"action":"insertText","range":{"start":{"row":38,"column":15},"end":{"row":38,"column":19}},"text":"e(0)"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":18},"end":{"row":38,"column":19}},"text":"l"},{"action":"removeText","range":{"start":{"row":38,"column":17},"end":{"row":38,"column":19}},"text":"0l"},{"action":"insertText","range":{"start":{"row":38,"column":17},"end":{"row":38,"column":19}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":18},"end":{"row":38,"column":20}},"text":"lt"},{"action":"insertText","range":{"start":{"row":38,"column":20},"end":{"row":38,"column":21}},"text":"x"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":13},"end":{"row":38,"column":14}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":22},"end":{"row":38,"column":23}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":63,"column":54},"end":{"row":63,"column":58}},"text":"stan"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":63,"column":58},"end":{"row":63,"column":61}},"text":"za."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":63,"column":57},"end":{"row":63,"column":61}},"text":"nza."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":63,"column":54},"end":{"row":63,"column":57}},"text":"sta"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":62,"column":35},"end":{"row":62,"column":36}},"text":" "},{"action":"insertText","range":{"start":{"row":62,"column":35},"end":{"row":63,"column":0}},"text":"\n"},{"action":"removeText","range":{"start":{"row":64,"column":4},"end":{"row":64,"column":55}},"text":"console.log('Incoming stanza: ', stanza.toString())"},{"action":"insertText","range":{"start":{"row":64,"column":4},"end":{"row":64,"column":31}},"text":"if (stanza.is('message') &&"},{"action":"insertText","range":{"start":{"row":64,"column":31},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":38}},"text":"      (stanza.attrs.type !== 'error'))"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":6}},"text":"      "},{"action":"removeText","range":{"start":{"row":64,"column":31},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":64,"column":31},"end":{"row":64,"column":32}},"text":" "},{"action":"insertText","range":{"start":{"row":64,"column":64},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":65,"column":0},"end":{"row":68,"column":0}},"lines":["    {","        ","        "]},{"action":"insertText","range":{"start":{"row":68,"column":0},"end":{"row":68,"column":5}},"text":"    }"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":67,"column":8},"end":{"row":67,"column":46}},"text":"console.log(stanza.root().toString());"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":66,"column":0},"end":{"row":66,"column":8}},"text":"        "},{"action":"removeText","range":{"start":{"row":65,"column":5},"end":{"row":66,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":66,"column":20},"end":{"row":66,"column":44}},"text":"stanza.root().toString()"},{"action":"insertText","range":{"start":{"row":66,"column":20},"end":{"row":66,"column":37}},"text":"stanza.attrs.body"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":65,"column":5},"end":{"row":66,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":66,"column":0},"end":{"row":66,"column":8}},"text":"        "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":67,"column":26},"end":{"row":67,"column":32}},"text":".attrs"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":67,"column":20},"end":{"row":67,"column":31}},"text":"stanza.body"},{"action":"insertText","range":{"start":{"row":67,"column":20},"end":{"row":67,"column":47}},"text":"stanza.getChildText('body')"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":66,"column":8},"end":{"row":66,"column":35}},"text":"if(stanza.getChildText(''))"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":66,"column":32},"end":{"row":66,"column":36}},"text":"body"},{"action":"insertText","range":{"start":{"row":66,"column":38},"end":{"row":66,"column":44}},"text":"!=null"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":66,"column":45},"end":{"row":67,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":67,"column":0},"end":{"row":67,"column":9}},"text":"        {"},{"action":"insertText","range":{"start":{"row":68,"column":8},"end":{"row":68,"column":12}},"text":"    "},{"action":"insertText","range":{"start":{"row":68,"column":53},"end":{"row":69,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":69,"column":0},"end":{"row":69,"column":9}},"text":"        }"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":4,"column":0}},"nl":"\n","lines":["/**"," * Main application file"," */",""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":41,"column":22},"end":{"row":41,"column":23}},"text":","},{"action":"insertText","range":{"start":{"row":41,"column":23},"end":{"row":42,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":42,"column":0},"end":{"row":42,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":42,"column":4},"end":{"row":42,"column":19}},"text":"reconnect: true"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":29},"end":{"row":47,"column":30}},"text":" "},{"action":"insertText","range":{"start":{"row":47,"column":29},"end":{"row":48,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":15},"end":{"row":38,"column":23}},"text":"hbot1234"},{"action":"insertText","range":{"start":{"row":38,"column":15},"end":{"row":38,"column":16}},"text":"*"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":38,"column":15},"end":{"row":38,"column":16}},"text":"*"},{"action":"insertText","range":{"start":{"row":38,"column":15},"end":{"row":38,"column":23}},"text":"hbot1234"}]}]]},"ace":{"folds":[],"scrolltop":464.5,"scrollleft":0,"selection":{"start":{"row":49,"column":29},"end":{"row":49,"column":29},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":28,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1414072811445,"hash":"337ba964b4ec1c721d603e34778fc6feeed2663d"}